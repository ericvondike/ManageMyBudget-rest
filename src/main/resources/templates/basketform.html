<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>

    <link href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" media="screen"/>

    <script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js"/>
    <script type="text/javascript" th:src="@{/js/jquery.js}"></script>
    <script type="text/javascript" th:src="@{/js/addbutton.js}"></script>
    <link th:href="@{/css/shopping.css}" href="../static/css/shopping.css" rel="stylesheet" media="screen"/>


    <!--<link th:href="@{/css/custom.css}" href="../static/css/custom.css" rel="stylesheet" media="screen"/>-->
    <title>Pick up your basket</title>
</head>
<body>

<!--<div class="container">-->
    <!--<h2>Your Basket</h2>-->
    <!--<form class="form-horizontal" action="#" th:object="${basketForm}" th:action="@{/basketform}" method="post">-->
        <!--<div class="form-group" th:class="form-group">-->
            <!--<label class="col-sm-2 control-label">List Title:</label>-->
            <!--<div class="col-sm-10">-->
                <!--<input type="text" class="form-control" name="listTitle" id="listTitle" th:field="*{listTitle}"/>-->
                <!--<div class="row">-->
                    <!--<h4>Shopping Center</h4>-->
                    <!--<div class="col-sm-10">-->
                        <!--<label class="col-sm-2 control-label">Code:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<input type="text" class="form-control" name="code" id="code"-->
                                   <!--th:field="*{shoppingCenter.code}"/>-->
                        <!--</div>-->

                        <!--<label class="col-sm-2 control-label">Given Name:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<input type="text" class="form-control" name="givenName" id="givenName"-->
                                   <!--th:field="*{shoppingCenter.givenName}"/>-->
                        <!--</div>-->
                        <!--<label class="col-sm-2 control-label">Official Name:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<input type="text" class="form-control" name="officialname" id="officialname"-->
                                   <!--th:field="*{shoppingCenter.officialname}"/>-->
                        <!--</div>-->
                        <!--<label class="col-sm-2 control-label">Address:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<input type="text" class="form-control" name="address" id="address"-->
                                   <!--th:field="*{shoppingCenter.address}"/>-->
                        <!--</div>-->
                        <!--<label class="col-sm-2 control-label">Tel Number:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<input type="text" class="form-control" name="telNumber" id="telNumber"-->
                                   <!--th:field="*{shoppingCenter.telNumber}"/>-->
                        <!--</div>-->
                        <!--<label class="col-sm-2 control-label">Open Dates:</label>-->
                        <!--<div class="col-sm-10">-->
                            <!--<div class="input_fields_wrap">-->
                                <!--<div><input type="text" class="form-control" name="mytext[]" id="opendays"-->
                                            <!--th:field="*{shoppingCenter.datesOpen}"/></div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="col-sm-10">-->
                        <!--<fieldset>-->
                            <!--<legend th:text="#{foodDrinkShelf.list}">Categories:</legend>-->
                            <!--<div>-->
                                <!--<table>-->
                                    <!--<thead>-->
                                    <!--<tr>-->
                                        <!--<th th:text="#{foodDrinkShelf.givenName}"></th>-->
                                        <!--<th th:text="#{foodDrinkShelf.officialName}"></th>-->
                                        <!--<th th:text="#{foodDrinkShelf.itemList}"></th>-->
                                        <!--<th>-->
                                            <!--<button type="submit" name="addCategory" th:text="#{foodDrinkShelf.row.add}">ADD New FoodDrinkShelf</button>-->
                                        <!--</th>-->
                                    <!--</tr>-->
                                    <!--</thead>-->
                                    <!--<tbody>-->
                                    <!--<tr th:each="foodDrinkShelf,catIndex : *{categoryInList}">-->
                                        <!--<td>-->
                                            <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].givenName}"/>-->
                                        <!--</td>-->
                                        <!--<td>-->
                                            <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].officialName}">-->
                                        <!--</td>-->
                                        <!--<td>-->
                                            <!--<table>-->
                                                <!--<thead>-->
                                                <!--<tr>-->
                                                    <!--<th th:text="#{item.givenname}"></th>-->
                                                    <!--<th th:text="#{item.code}"></th>-->
                                                    <!--<th th:text="#{item.barcoe}"></th>-->
                                                    <!--<th th:text="#{item.description}"></th>-->
                                                    <!--<th th:text="#{item.price}"></th>-->
                                                    <!--<th>-->
                                                        <!--<button type="submit" name="addItem" th:value="${catIndex.index}" th:text="#{item.add.row}">Add New Item</button>-->
                                                    <!--</th>-->
                                                <!--</tr>-->
                                                <!--</thead>-->
                                                <!--<tbody>-->
                                                <!--<tr th:each="item, itemIndex: ${foodDrinkShelf.itemsList}" th:name="itemCat" th:field="${catIndex.index}">-->
                                                    <!--<td>-->
                                                        <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemGivenName}">-->
                                                    <!--</td>-->
                                                    <!--<td>-->
                                                        <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemCode}">-->
                                                    <!--</td>-->
                                                    <!--<td>-->
                                                        <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemBarcode}">-->
                                                    <!--</td>-->
                                                    <!--<td>-->
                                                        <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemDescription}">-->
                                                    <!--</td>-->
                                                    <!--<td>-->
                                                        <!--<input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemPrice}">-->
                                                    <!--</td>-->
                                                    <!--<td>-->
                                                        <!--&lt;!&ndash;<p th:text="${item.itemPrice}"/>&ndash;&gt;-->
                                                        <!--&lt;!&ndash;<p th:text="${foodDrinkShelf.givenName}"/>&ndash;&gt;-->
                                                        <!--&lt;!&ndash;<button type="submit" name="removeItem" th:value="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__]}" th:text="#{item.remove.row}"></button>&ndash;&gt;-->
                                                        <!--&lt;!&ndash;<button type="submit" name="removeItem" th:value="${itemIndex.index}" th:text="#{item.remove.row}"></button>&ndash;&gt;-->
                                                        <!--<a th:text="#{item.remove.row}" th:href="@{/basketform/{categoryIndex}/{itemIndex}(categoryIndex = ${catIndex.index}, itemIndex = ${itemIndex.index})}">Remove This Item</a>-->
                                                    <!--</td>-->
                                                <!--</tr>-->
                                                <!--</tbody>-->
                                            <!--</table>-->
                                        <!--</td>-->
                                        <!--<td>-->
                                            <!--<button type="submit" name="removeCategory" th:value="${catIndex.index}" th:text="#{foodDrinkShelf.row.remove}">Remove the FoodDrinkShelf</button>-->
                                        <!--</td>-->
                                    <!--</tr>-->
                                    <!--</tbody>-->
                                <!--</table>-->
                            <!--</div>-->
                        <!--</fieldset>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
        <!--</div>-->

        <!--<div class="row">-->
            <!--<button type="submit" class="btn btn-default">Submit</button>-->
        <!--</div>-->
    <!--</form>-->
<!--</div>-->

<div>
    <h2 th:text="#{title.new}">Add new Shopping List</h2>

    <form action="#" th:object="${basketForm}" th:action="@{/basketform}" method="post">

        <fieldset>

            <legend th:text="#{shoppinglist.data}">Shopping List Data</legend>

            <ul th:if="${#fields.hasErrors('*')}" class="errorlist">
                <li th:each="err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li>
            </ul>


            <div>
                <label for="dateShopped">
                    <span th:text="#{shoppinglist.date.shopped}">Date Shopped</span>
                    (<span th:text="#{date.format}">YYYY-MM-dd</span>)
                </label>
                <input type="text" th:field="*{dateShopped}" th:errorclass="fieldError" />
            </div>
            <!--<div>
                <label th:for="${#ids.next('covered')}" th:text="#{seedstarter.covered}">Covered</label>
                <input type="checkbox" th:field="*{covered}" />
            </div>-->
            <div>
                <label for="shoppingCenter" th:text="#{shoppingcenter.name}">Shopping Center</label>
                <select th:field="*{shoppingCenter}">
                    <option th:each="shop : ${allShoppingCenters}" th:value="${shop}" th:text="#{${'shoppinglist.shoppingcenter.' + shop}}">Shopping Center</option>
                </select>
            </div>
            <!--<div>-->
                <!--<label th:text="#{seedstarter.features}">Features</label>-->
                <!--<ul>-->
                    <!--<li th:each="feat : ${allFeatures}">-->
                        <!--<input type="checkbox" th:field="*{features}" th:value="${feat}" />-->
                        <!--<label th:for="${#ids.prev('features')}" th:text="#{${'seedstarter.feature.' + feat}}">Electric Heating</label>-->
                    <!--</li>-->
                    <!--<li th:remove="all">-->
                        <!--<input id="removed1" type="checkbox" /> <label for="removed1">Turf</label>-->
                    <!--</li>-->
                <!--</ul>-->
            <!--</div>-->

            <div>
                <label th:text="#{foodDrinkShelf.list}">Category</label>
                <table>
                    <thead>
                    <tr>
                        <th th:text="#{foodDrinkShelf.count}">Category Count</th>
                        <th th:text="#{foodDrinkShelf.name}">Category</th>
                        <th th:text="#{foodDrinkShelf.itemList}">Item List</th>
                        <th>
                            <button type="submit" name="addCategory" th:text="#{foodDrinkShelf.row.add}">Add New Category</button>
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="foodDrinkShelf,catIndex : *{categoryInList}">
                        <td th:text="${catIndex.count}">1</td>
                        <td>
                            <select th:field="*{categoryInList[__${catIndex.index}__].foodDrinkShelf}">
                                <option th:each="cat : ${allCategories}" th:value="${cat}" th:text="#{${'cat.name.' + cat}}">Thymus Thymi</option>
                            </select>
                        </td>
                        <td>
                            <div>
                                <!--<label th:text="#{item.list}">Items List</label>-->
                                <table>
                                    <thead>
                                    <tr>
                                        <th th:text="#{item.givenname}">Item Name</th>
                                        <th th:text="#{item.barcoe}">BarCode</th>
                                        <th th:text="#{item.price}">Price</th>
                                        <th th:text="#{item.number}">Number of Items</th>
                                        <th>
                                            <button type="submit" name="addItem" th:value="${catIndex.index}" th:text="#{item.add.row}" class="addItem">Add New Item</button>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody class="itemTableBody">
                                    <tr th:each="item, itemIndex: ${foodDrinkShelf.itemsList}" th:name="itemCat" th:field="${catIndex.index}">
                                        <td>
                                            <input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemGivenName}" class="textClass">
                                        </td>
                                        <td>
                                            <input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemBarcode}" class="textClass">
                                        <td>
                                            <input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].itemPrice}" class="priceClass">
                                        </td>
                                        <td>
                                            <input type="text" th:field="*{categoryInList[__${catIndex.index}__].itemsList[__${itemIndex.index}__].numItem}" class="numberClass">
                                        </td>
                                        <td>
                                            <!--<a th:text="#{item.remove.row}" th:href="@{/basketform/{categoryIndex}/{itemIndex}(categoryIndex = ${catIndex.index}, itemIndex = ${itemIndex.index})}">Remove This Item</a>-->
                                            <button type="submit" name="removeItem" th:value="${catIndex.index} + '-' + ${itemIndex.index}" th:text="#{item.remove.row}" class="removeItem"></button>
                                        </td>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </td>
                        <td>
                            <button type="submit" name="removeCategory" th:value="${catIndex.index}" th:text="#{foodDrinkShelf.row.remove}" class="addItem">Remove the Category</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="submit">
                <button type="submit" name="output" th:text="#{button.submit}" class="btn btn-default">Submit</button>
            </div>

        </fieldset>

    </form>

</div>

</body>
</html>